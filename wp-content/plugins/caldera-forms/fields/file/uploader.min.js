function size_format(e){var a=!1;return quant=[{unit:"TB",mag:1099511627776},{unit:"GB",mag:1073741824},{unit:"MB",mag:1048576},{unit:"kB",mag:1024},{unit:"B ",mag:1}],quant.forEach(function(l){parseFloat(e)>=l.mag&&0==a&&(a=e/l.mag,a=e>1048576?a.toFixed(2):Math.round(a),a=a+" "+l.unit)}),a}function handleFileSelect(e){if(e.stopPropagation(),e.preventDefault(),e.dataTransfer)var a=e.dataTransfer.files;else var a=e.target.files;for(var l=[],t=0;t<a.length;t++){var i="fl"+Math.round(0xaa7fca0bf1f1*Math.random());cf_uploader_filelist[e.target.id+"_file_"+i]={file:a[t],state:1}}for(var t in cf_uploader_filelist)l.push('<li class="cf-uploader-queue-item '+t+'">','<a href="#remove-file" data-file="'+t+'" class="cf-file-remove">&times;</a> <span class="file-name">',cf_uploader_filelist[t].file.name,"</span>",'<div class="progress-bar" style="background:#ececec;"><div class="bar" id="progress-file-'+t+'" style="height:2px;width:0%;background:#a3be5f;"></div></div>','<small class="file-type">',cf_uploader_filelist[t].file.type||"n/a","</small> ",'<small class="file-error"></small>','<small class="file-size">'+size_format(cf_uploader_filelist[t].file.size)+"</small>","</li>");e.target.value=null,document.getElementById(e.target.id+"_file_list").innerHTML="<ul>"+l.join("")+"</ul>"}function handleDragOver(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}function handleDragOver(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}var cf_uploader_filelist={};jQuery(function(e){e(document).on("click",".cf-uploader-trigger",function(){var a=e(this);e("#"+a.data("parent")).trigger("click")}),e(".cf-multi-uploader").hide(),e(document).on("click",".cf-file-remove",function(a){a.preventDefault();var l=e(this);delete cf_uploader_filelist[l.data("file")],l.parent().remove()}),e(document).on("change",".cf-multi-uploader",function(e){handleFileSelect(e)})});